{"version":3,"file":"app.bundle.js","mappings":"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","sources":["webpack://webpack-setup/./src/js/createShip.js","webpack://webpack-setup/./src/js/helpers.js","webpack://webpack-setup/./src/js/createGameboard.js","webpack://webpack-setup/./src/js/createPlayer.js","webpack://webpack-setup/./src/js/dom.js","webpack://webpack-setup/./src/index.js"],"sourcesContent":["function createShip(length) {\n  let hits = 0;\n\n  return {\n    getLength() {\n      return length;\n    },\n    hit() {\n      if (this.isSunk()) {\n        return false;\n      } else {\n        hits++;\n        return true;\n      }\n    },\n    isSunk() {\n      return hits >= length;\n    },\n  };\n}\n\nexport default createShip;\n","import createShip from \"./createShip\";\n\nexport function getRandomIntInclusive(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport function generateShips() {\n  return [\n    createShip(5),\n    createShip(4),\n    createShip(3),\n    createShip(3),\n    createShip(2),\n  ];\n}\n","import { getRandomIntInclusive } from \"./helpers\";\n\nfunction createGameboard() {\n  const BOARD_SIZE = 10;\n  let board = Array.from({ length: BOARD_SIZE }, () =>\n    Array(BOARD_SIZE).fill(null),\n  );\n  let ships = [];\n\n  function placeShipInBoard(board, rowIndex, columnIndex, ship) {\n    const isOutOfBounds = [rowIndex, columnIndex].some(\n      (index) => index > BOARD_SIZE - 1,\n    );\n    if (isOutOfBounds || board[rowIndex][columnIndex] !== null) {\n      throw new Error(\"Ship can only be placed on empty squares.\");\n    } else {\n      board[rowIndex][columnIndex] = ship;\n    }\n  }\n\n  function getRandomOrientation() {\n    const orientations = [\"horizontal\", \"vertical\"];\n    const randomIndex = Math.floor(Math.random() * orientations.length);\n    return orientations[randomIndex];\n  }\n\n  return {\n    getBoard() {\n      return board.map((row) => [...row]);\n    },\n    placeShip(rowIndex, columnIndex, orientation, ship) {\n      const boardCp = this.getBoard();\n      if (orientation === \"horizontal\") {\n        const columnEndIndex = columnIndex + ship.getLength();\n        for (let i = columnIndex; i < columnEndIndex; i++) {\n          placeShipInBoard(boardCp, rowIndex, i, ship);\n        }\n      } else {\n        const rowEndIndex = rowIndex + ship.getLength();\n        for (let i = rowIndex; i < rowEndIndex; i++) {\n          placeShipInBoard(boardCp, i, columnIndex, ship);\n        }\n      }\n      ships = [...ships, ship];\n      board = boardCp;\n    },\n    receiveAttack(rowIndex, columnIndex) {\n      switch (board[rowIndex][columnIndex]) {\n        case null:\n          board[rowIndex][columnIndex] = \"miss\";\n          break;\n        case \"miss\":\n        case \"hit\":\n          throw new Error(\"Square is already attacked.\");\n        default:\n          board[rowIndex][columnIndex].hit();\n          board[rowIndex][columnIndex] = \"hit\";\n      }\n    },\n    areAllShipsSunk() {\n      return ships.every((ship) => ship.isSunk());\n    },\n    randomlyPlaceShips(ships) {\n      ships.forEach((ship) => {\n        let shipPlaced = false;\n        while (!shipPlaced) {\n          const rowIndex = getRandomIntInclusive(0, 9);\n          const columnIndex = getRandomIntInclusive(0, 9);\n          const orientation = getRandomOrientation();\n          try {\n            this.placeShip(rowIndex, columnIndex, orientation, ship);\n            shipPlaced = true;\n          } catch (err) {\n            // Intentional: I just want to call this.placeShip until that ship is placed.\n          }\n        }\n      });\n    },\n  };\n}\n\nexport default createGameboard;\n","import { getRandomIntInclusive } from \"./helpers\";\nimport createGameboard from \"./createGameboard\";\n\nfunction createPlayer(type) {\n  function getRandomCoorsToAttack(board) {\n    let rowIndex;\n    let columnIndex;\n    do {\n      rowIndex = getRandomIntInclusive(0, 9);\n      columnIndex = getRandomIntInclusive(0, 9);\n    } while (\n      board[rowIndex][columnIndex] === \"miss\" ||\n      board[rowIndex][columnIndex] === \"hit\"\n    );\n    return { rowIndex, columnIndex };\n  }\n\n  return {\n    type,\n    gameboard: createGameboard(),\n    attack(enemyGameboard, rowIndex, columnIndex) {\n      enemyGameboard.receiveAttack(rowIndex, columnIndex);\n    },\n    randomAttack(enemyGameboard) {\n      const enemyBoard = enemyGameboard.getBoard();\n      const { rowIndex, columnIndex } = getRandomCoorsToAttack(enemyBoard);\n      enemyGameboard.receiveAttack(rowIndex, columnIndex);\n    },\n  };\n}\n\nexport default createPlayer;\n","export const p1BoardContainer = document.querySelector(\".p1BoardContainer\");\nexport const p2BoardContainer = document.querySelector(\".p2BoardContainer\");\n\nfunction createSquareBtn(\n  square,\n  isActivePlayerBoard,\n  rowIndex,\n  columnIndex,\n  onSquareBtnClick,\n) {\n  const squareBtn = document.createElement(\"button\");\n  squareBtn.classList.add(\"square\");\n  if (isActivePlayerBoard) {\n    squareBtn.setAttribute(\"disabled\", \"\");\n    if (square && Object.prototype.hasOwnProperty.call(square, \"isSunk\")) {\n      squareBtn.classList.add(\"ship\");\n    }\n  } else {\n    if (square !== \"miss\" && square !== \"hit\") {\n      squareBtn.classList.add(\"square-to-attack\");\n      squareBtn.addEventListener(\"click\", onSquareBtnClick);\n    } else {\n      squareBtn.setAttribute(\"disabled\", \"\");\n    }\n  }\n  if (square === \"miss\") {\n    squareBtn.classList.add(\"miss\");\n  } else if (square === \"hit\") {\n    squareBtn.classList.add(\"hit\");\n  }\n  squareBtn.dataset.rowIndex = rowIndex;\n  squareBtn.dataset.columnIndex = columnIndex;\n  return squareBtn;\n}\n\nexport function renderBoard(el, board, isActivePlayerBoard, onSquareBtnClick) {\n  const boardDiv = document.createElement(\"div\");\n  boardDiv.classList.add(\"board\");\n  board.forEach((row, i) => {\n    row.forEach((square, j) => {\n      const squareBtn = createSquareBtn(\n        square,\n        isActivePlayerBoard,\n        i,\n        j,\n        onSquareBtnClick,\n      );\n      boardDiv.append(squareBtn);\n    });\n  });\n  el.append(boardDiv);\n}\n\nexport function clearBoards(boardContainers, onSquareBtnClick) {\n  boardContainers.forEach((boardContainer) => {\n    const squareBtns = boardContainer.querySelectorAll(\".square\");\n    squareBtns.forEach((squareBtn) => {\n      squareBtn.removeEventListener(\"click\", onSquareBtnClick);\n    });\n    boardContainer.innerHTML = \"\";\n  });\n}\n\nexport function disableBoard(boardContainer) {\n  const squareBtns = boardContainer.querySelectorAll(\".square\");\n  squareBtns.forEach((squareBtn) => {\n    squareBtn.classList.remove(\"square-to-attack\");\n    squareBtn.setAttribute(\"disabled\", \"\");\n  });\n}\n","\"use strict\";\n\nimport \"./style.css\";\nimport createPlayer from \"./js/createPlayer\";\nimport * as dom from \"./js/dom\";\nimport { generateShips } from \"./js/helpers\";\n\nfunction getWinner() {\n  if (p1.gameboard.areAllShipsSunk()) {\n    return p2;\n  } else if (p2.gameboard.areAllShipsSunk()) {\n    return p1;\n  } else {\n    return null;\n  }\n}\n\nfunction renderNewBoards() {\n  dom.clearBoards(\n    [dom.p1BoardContainer, dom.p2BoardContainer],\n    handleSquareBtnClick,\n  );\n  dom.renderBoard(\n    dom.p1BoardContainer,\n    p1.gameboard.getBoard(),\n    true,\n    handleSquareBtnClick,\n  );\n  dom.renderBoard(\n    dom.p2BoardContainer,\n    p2.gameboard.getBoard(),\n    false,\n    handleSquareBtnClick,\n  );\n}\n\nfunction playerAttack(player, rowIndex, columnIndex) {\n  try {\n    if (player === p1) {\n      p1.attack(p2.gameboard, rowIndex, columnIndex);\n    } else {\n      p2.randomAttack(p1.gameboard);\n    }\n    activePlayer = activePlayer === p1 ? p2 : p1;\n    renderNewBoards();\n    const winner = getWinner();\n    if (winner) {\n      // To render the change in board first, then alert.\n      setTimeout(() => {\n        alert(`${winner === p1 ? \"Player 1\" : \"Player 2\"} wins!`);\n      }, 0);\n      gameOver = true;\n      dom.disableBoard(dom.p2BoardContainer);\n      return;\n    }\n    if (activePlayer === p2) {\n      playerAttack(p2);\n    }\n  } catch (err) {\n    alert(err);\n  }\n}\n\nfunction handleSquareBtnClick(e) {\n  if (gameOver) {\n    return;\n  }\n\n  const { rowIndex, columnIndex } = e.target.dataset;\n  try {\n    playerAttack(p1, Number(rowIndex), Number(columnIndex));\n  } catch (err) {\n    alert(err);\n  }\n}\n\nconst p1 = createPlayer(\"human\");\nconst p2 = createPlayer(\"computer\");\nlet activePlayer = p1;\nconst p1Ships = generateShips();\nconst p2Ships = generateShips();\nlet gameOver = false;\np1.gameboard.randomlyPlaceShips(p1Ships);\np2.gameboard.randomlyPlaceShips(p2Ships);\nrenderNewBoards();\n"],"names":["createShip","length","hits","getLength","hit","isSunk","getRandomIntInclusive","min","max","Math","floor","random","generateShips","createGameboard","BOARD_SIZE","board","Array","from","fill","ships","placeShipInBoard","rowIndex","columnIndex","ship","isOutOfBounds","some","index","Error","getRandomOrientation","orientations","randomIndex","getBoard","map","row","placeShip","orientation","boardCp","columnEndIndex","i","rowEndIndex","receiveAttack","areAllShipsSunk","every","randomlyPlaceShips","forEach","shipPlaced","err","createPlayer","type","getRandomCoorsToAttack","gameboard","attack","enemyGameboard","randomAttack","enemyBoard","p1BoardContainer","document","querySelector","p2BoardContainer","createSquareBtn","square","isActivePlayerBoard","onSquareBtnClick","squareBtn","createElement","classList","add","setAttribute","Object","prototype","hasOwnProperty","call","addEventListener","dataset","renderBoard","el","boardDiv","j","append","clearBoards","boardContainers","boardContainer","squareBtns","querySelectorAll","removeEventListener","innerHTML","disableBoard","remove","dom","getWinner","p1","p2","renderNewBoards","handleSquareBtnClick","playerAttack","player","activePlayer","winner","setTimeout","alert","gameOver","e","target","Number","p1Ships","p2Ships"],"sourceRoot":""}